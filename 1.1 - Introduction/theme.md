# üì¶ –¢–µ–º–∞ 1.1 - –í–≤–µ–¥–µ–Ω–∏–µ –≤ `Node.js`

--

## üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ `Node.js`

`Node.js` ‚Äî —ç—Ç–æ —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è JavaScript –≤–Ω–µ –±—Ä–∞—É–∑–µ—Ä–∞.
–û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å JS-–∫–æ–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JavaScript –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –±—ç–∫–µ–Ω–¥–∞, —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏ —É—Ç–∏–ª–∏—Ç.

> üìå `Node.js` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–≤–∏–∂–æ–∫ V8 (—Ç–æ—Ç –∂–µ, —á—Ç–æ –∏ –≤ Chrome) –¥–ª—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ JavaScript, –Ω–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –º–æ–¥—É–ª–∏ –∏ API, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–±–æ—Ç—É —Å —Ñ–∞–π–ª–∞–º–∏, —Å–µ—Ç—å—é –∏ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π.

## üß† –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

- –û–¥–Ω–æ–ø–æ—Ç–æ—á–Ω–∞—è, –Ω–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∏ –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∞—è –º–æ–¥–µ–ª—å

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–±—ã—Ç–∏–π–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é –º–æ–¥–µ–ª—å (event loop)

- –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–∏—Å–∞—Ç—å —Å–µ—Ä–≤–µ—Ä—ã, CLI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, API, –±–æ—Ç–æ–≤, –∏ —Ç.–¥.

---

## üîπ –ò—Å—Ç–æ—Ä–∏—è `Node.js`

üìÖ 2009 –≥–æ–¥ ‚Äî `Node.js` –±—ã–ª —Å–æ–∑–¥–∞–Ω –†–∞–π–∞–Ω–æ–º –î–∞–ª–µ–º (Ryan Dahl)

üéØ –¶–µ–ª—å: —É—Å—Ç—Ä–∞–Ω–∏—Ç—å –±–ª–æ–∫–∏—Ä—É—é—â–∏–π –≤–≤–æ–¥-–≤—ã–≤–æ–¥ –≤ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞—Ö, –∫–∞–∫ —ç—Ç–æ –±—ã–ª–æ –≤ Apache

üß† –û–Ω –≤—ã–±—Ä–∞–ª –¥–≤–∏–∂–æ–∫ V8 –æ—Ç Google –∏ –ø–æ—Å—Ç—Ä–æ–∏–ª –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –º–æ–¥–µ–ª—å —Å libuv

üì¶ –í—Å–∫–æ—Ä–µ –ø–æ—è–≤–∏–ª—Å—è npm ‚Äî –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ –¥–ª—è `Node.js`

üìå `Node.js` —Å—Ç–∞–ª —Ä–µ–≤–æ–ª—é—Ü–∏–µ–π, –ø–æ—Ç–æ–º—É —á—Ç–æ –ø–æ–∑–≤–æ–ª–∏–ª —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ—Ä–∞–º —Ä–∞–±–æ—Ç–∞—Ç—å –∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

---

## üîπ –ó–∞—á–µ–º –Ω—É–∂–µ–Ω `Node.js`

`Node.js` –Ω—É–∂–µ–Ω –¥–ª—è:

- ‚úÖ –°–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, HTTP API)
- ‚úÖ –†–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏, –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –∏ —Å–µ—Ç—å—é
- ‚úÖ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∏ CLI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- ‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –∏ REST API
- ‚úÖ –†–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏: —á–∞—Ç—ã, —Å—Ç—Ä–∏–º–∏–Ω–≥, WebSocket

> üìå `Node.js` ‚Äî —ç—Ç–æ JavaScript –≤–Ω–µ –±—Ä–∞—É–∑–µ—Ä–∞, –æ—Ç–∫—Ä—ã–≤–∞—é—â–∏–π –º–∏–ª–ª–∏–æ–Ω—ã –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π.

---

## üîπ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `Node.js`

`Node.js` —Å–æ—Å—Ç–æ–∏—Ç –∏–∑:

- ‚öôÔ∏è `V8` ‚Äî –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç JS –≤ –º–∞—à–∏–Ω–Ω—ã–π –∫–æ–¥

- üåÄ `libuv` ‚Äî –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, —Ä–µ–∞–ª–∏–∑—É—é—â–∞—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π event loop, –ø–æ—Ç–æ–∫–∏, —Ç–∞–π–º–µ—Ä—ã, —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –∏ —Ç.–¥.

- üì¶ `Bindings` ‚Äî —Å–≤—è–∑—ã–≤–∞—é—Ç `C++` –∫–æ–¥ —Å JS API

---

## üß© Event Loop (–¶–∏–∫–ª —Å–æ–±—ã—Ç–∏–π)

`Node.js` ‚Äî –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω—ã–π, –Ω–æ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ:

```javascript
console.log("1");

setTimeout(() => {
  console.log("2");
}, 1000);

console.log("3");

// üìå –í—ã–≤–æ–¥:
// 1
// 3
// 2
```

üí° –ü–æ—á–µ–º—É? setTimeout –ø–æ–ø–∞–¥–∞–µ—Ç –≤ Event Loop, –∏ –∫–æ–ª–±—ç–∫ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ–∑–∂–µ.

> üìå `Node.js` –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ, –ø–æ–∫–∞ —á–∏—Ç–∞–µ—Ç—Å—è —Ñ–∞–π–ª ‚Äî –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ.

---

## üß± –ü—Ä–æ—Å—Ç–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

```lua
+----------------+
|   –í–∞—à –∫–æ–¥ JS   |
+-------+--------+
        |
        v
+-------+--------+        +----------------+
|      V8        |        |     libuv      |
| (JS –¥–≤–∏–∂–æ–∫)    | <----> |  Event Loop,   |
+-------+--------+        |  I/O, –°–µ—Ç–∏, FS |
        |                 +----------------+
        v
  –ú–∞—à–∏–Ω–Ω—ã–π –∫–æ–¥
```

---

## ‚ö†Ô∏è –ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏:

- `Node.js` –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è CPU-–∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ)
- –ü–ª–æ—Ö–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ —Ü–∏–∫–ª—ã ‚Äî –æ–Ω–∏ –±–ª–æ–∫–∏—Ä—É—é—Ç event loop
- –í—Å—ë –æ—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏, –ø–æ—ç—Ç–æ–º—É –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å `callback`, `Promise`, `async/await`

> ‚ùó –≠—Ç–∞ —Ç–µ–º–∞ ‚Äî —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è –ø–æ–∫–∞ –Ω–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω—ã.
